#labels rest
== Foofind Rest Api usage ==
The foofind API uses a REST-like interface. This means that our method calls are made over the internet by sending HTTP GET or POST requests to the Foofind REST aPI server. Nearly any computer language can be used to communicate over HTTP with the REST server. 

The server response is xml format.

== Methods ==

=== getSearch ===

*this method retrieves search results with the following params:

 * q (query) Example q=centos
 * lang (language) there are 2 languages available lang=es or lang=en
 * src (sources)  w:web, g:gnutella, t:torrent, f:ftp, e:ed2k
 * type (file type) (Audio,Video,Image,Document,Software,Archive)
 * year (year)
 * brate (bitrate)



==== Method getSearch request sample: ====
http://foofind.com/api/?method=getSearch&q=centos&lang=es&src=wftge&opt=&type=&size=&year=&brate=&page=

==== Method getSearch response sample: ====
{{{
<SearchrestServer generator="zend" version="1.0">
<getSearch>
 <key_0>
  <size>3.00 GB</size>
  <type>Audio</type>
  <dlink><![CDATA[http://foofind.com/es/download/5013076/CentOS]]></dlink>
 </key_0>

 <key_1>
  <size>3.73 GB</size>
  <type>Document</type>
  <dlink><![CDATA[http://foofind.com/es/download/5282897/CentOS-5_4-i386-bin-DVD_torrent]]></dlink>
 </key_1>

 <key_2>
  <size>3.46 GB</size>
  <type>Archive</type>
  <dlink><![CDATA[http://foofind.com/es/download/3165961/CentOS-5_0-i386-bin-DVD_torrent]]></dlink>
 </key_2>

 <key_3>
  <size>4.00 GB</size>
  <type>Archive</type>
  <dlink><![CDATA[http://foofind.com/es/download/9094860/CentOS-5_4-x86_64-bin-DVD_torrent]]></dlink>
 </key_3>

 <key_4>
  <size>689.94 MB</size>
  <type>Software</type>
  <dlink><![CDATA[http://foofind.com/es/download/5900802/CentOS-5_4-i386-LiveCD_iso]]></dlink>
 </key_4>

 <key_5>
  <size>696.96 MB</size>
  <type>Software</type>
  <dlink><![CDATA[http://foofind.com/es/download/15901777/CentOS-5_2-i386-LiveCD_iso]]> </dlink>
 </key_5>

 <key_6>
  <size>19.88 MB</size>
  <type>Software</type>
  <dlink><![CDATA[http://foofind.com/es/download/15033969/linux_instalacion CentOS_rar]]></dlink>
 </key_6>

 <status>success</status>
</getSearch>

</SearchrestServer>

}}}

==== Status request ====

All the requests will be completed with a status message , with the following values:
 * success (when the request was successful)
 * failed (if you get this status request , you coukld fetch the response-message value from the xml to know more about the error.

{{{
<response>
<message>No Method Specified.</message>
</response>
<status>failed</status>
}}}

----
==== using the foofind API with php example ====


{{{
<?
  
   $urlrequest = 'http://foofind.com/api/?method=getSearch&q=centos&lang=es&src=wftge&opt=&type=&size=&year=&brate=&page=';

   $xml = file_get_contents( $urlrequest );

   $objDOM = new DOMDocument();
   $objDOM->load( $xml); 
   $item = $objDOM->getElementsByTagName("item"); 


   foreach( $item as $value )
  {
    $dlink = $value->getElementsByTagName("dlink")->item(0)->nodeValue;
    $size = $value->getElementsByTagName("size")->item(0)->nodeValue;
    $type = $value->getElementsByTagName("type")->item(0)->nodeValue;

    echo "$dlink </br>";
    echo "$size </br>";
  } 
?> 

}}}