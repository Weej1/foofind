<div id="container_search">
    <h1>
        <a href="/" ><img border="0" src="/images/foofind_search.gif" alt="File search engine - foofind.com" title="File search engine - foofind.com" /> </a>
    </h1>

<?=$this->form; ?>


    <div class="contentype">
        <a class="<?=(preg_match("/^$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array(), array('type'=>1, 'page'=>1)) ?>" ><?=$this->translate('All');?></a>
        <a class="<?=(preg_match("/^Audio$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Audio'), array('page'=>1)) ?>" ><?=$this->translate('Audio');?></a>
        <a class="<?=(preg_match("/^Video$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Video'), array('page'=>1)) ?>" ><?=$this->translate('Video');?></a>
        <a class="<?=(preg_match("/^Image$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Image'), array('page'=>1)) ?>" ><?=$this->translate('Image');?></a>
        <a class="<?=(preg_match("/^Document$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Document'), array('page'=>1)) ?>" ><?=$this->translate('Document');?></a>
        <a class="<?=(preg_match("/^Software$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Software'), array('page'=>1)) ?>" ><?=$this->translate('Software');?></a>
        <a class="<?=(preg_match("/^Archive$/", $_GET['type']))?"actual":""?>" href="<?= $this->qs(array('type'=>'Archive'), array('page'=>1)) ?>" ><?=$this->translate('Archive');?></a>
    </div>
 
    <div class="search_info">Results <?=$this->info['start']?> - <?=$this->info['end']?> of about <?=number_format($this->info['total'], 0) ?> for <?=$this->info['q']?> (<?=$this->info['time']?> seconds)<span class="debuginfo"><?=$this->info['time_desc']?></span></div>
    <hr />
    <div id="menu"><a href="#" id="show_options" active="false"></a></div>
    <div id="options">
        <div id="common">
            <ul class="sourcetype">
                <li><a class="<?=(preg_match("/^$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('opt'=>1), array('src'=>1, 'page'=>1)) ?>" ><?=$this->translate('All sources');?></a></li>
                <li><a class="<?=(preg_match("/^torrent$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'torrent', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('BitTorrent');?></a></li>
                <li><a class="<?=(preg_match("/^emule$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'emule', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Emule');?></a></li>
                <li><a class="<?=(preg_match("/^limewire$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'limewire', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Limewire');?></a></li>
                <li><a class="<?=(preg_match("/^dd$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'dd', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Direct download');?></a></li>
                <li><a class="<?=(preg_match("/^jamendo$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'jamendo', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Jamendo');?></a></li>
                <li><a class="<?=(preg_match("/^http$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'http', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('HTTP');?></a></li>
                <li><a class="<?=(preg_match("/^ftp$/", $_GET['src']))?"actual":""?>" href="<?= $this->qs(array('src'=>'ftp', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('FTP');?></a></li>
            </ul>
            <ul class="size">
                <li><a class="<?=(preg_match("/^$/", $_GET['size']))?"actual":""?>" href="<?= $this->qs(array('opt'=>1), array('size'=>1, 'page'=>1)) ?>" ><?=$this->translate('All sizes');?></a></li>
                <li><a class="<?=(preg_match("/^1$/", $_GET['size']))?"actual":""?>" href="<?= $this->qs(array('size'=>'1', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Smaller than');?> 1MB</a></li>
                <li><a class="<?=(preg_match("/^2$/", $_GET['size']))?"actual":""?>" href="<?= $this->qs(array('size'=>'2', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Smaller than');?> 10MB</a></li>
                <li><a class="<?=(preg_match("/^3$/", $_GET['size']))?"actual":""?>" href="<?= $this->qs(array('size'=>'3', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Smaller than');?> 100MB</a></li>
                <li><a class="<?=(preg_match("/^4$/", $_GET['size']))?"actual":""?>" href="<?= $this->qs(array('size'=>'4', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Larger than');?> 100MB</a></li>
            </ul>
            <?php if (preg_match("/^Audio$/", $_GET['type'])): ?>
            <ul class="quality">
                <li><a class="<?=(preg_match("/^$/", $_GET['brate']))?"actual":""?>" href="<?= $this->qs(array('opt'=>1), array('brate'=>1, 'page'=>1)) ?>" ><?=$this->translate('All qualities');?></a></li>
                <li><a class="<?=(preg_match("/^1$/", $_GET['brate']))?"actual":""?>" href="<?= $this->qs(array('brate'=>'1', 'opt'=>1), array('page'=>1)) ?>" >128 kbps <?=$this->translate('or better');?></a></li>
                <li><a class="<?=(preg_match("/^2$/", $_GET['brate']))?"actual":""?>" href="<?= $this->qs(array('brate'=>'2', 'opt'=>1), array('page'=>1)) ?>" >192 kbps <?=$this->translate('or better');?></a></li>
                <li><a class="<?=(preg_match("/^3$/", $_GET['brate']))?"actual":""?>" href="<?= $this->qs(array('brate'=>'3', 'opt'=>1), array('page'=>1)) ?>" >256 kbps <?=$this->translate('or better');?></a></li>
                <li><a class="<?=(preg_match("/^4$/", $_GET['brate']))?"actual":""?>" href="<?= $this->qs(array('brate'=>'4', 'opt'=>1), array('page'=>1)) ?>" >320 kbps <?=$this->translate('or better');?></a></li>
            </ul>
            <?php endif; ?>
            <?php if (preg_match("/^Audio|Video$/", $_GET['type'])): ?>
            <ul class="year">
                <li><a class="<?=(preg_match("/^$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('opt'=>1), array('year'=>1, 'page'=>1)) ?>" ><?=$this->translate('All years');?></a></li>
                <li><a class="<?=(preg_match("/^1$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'1', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Before');?> 1960</a></li>
                <li><a class="<?=(preg_match("/^2$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'2', 'opt'=>1), array('page'=>1)) ?>" >60's</a></li>
                <li><a class="<?=(preg_match("/^3$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'3', 'opt'=>1), array('page'=>1)) ?>" >70's</a></li>
                <li><a class="<?=(preg_match("/^4$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'4', 'opt'=>1), array('page'=>1)) ?>" >80's</a></li>
                <li><a class="<?=(preg_match("/^5$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'5', 'opt'=>1), array('page'=>1)) ?>" >90's</a></li>
                <li><a class="<?=(preg_match("/^6$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'6', 'opt'=>1), array('page'=>1)) ?>" >00's</a></li>
                <li><a class="<?=(preg_match("/^7$/", $_GET['year']))?"actual":""?>" href="<?= $this->qs(array('year'=>'7', 'opt'=>1), array('page'=>1)) ?>" ><?=$this->translate('Last year');?></a></li>
            </ul>
            <?php endif; ?>
        </div>
    </div>
<?php if ($this->info['total']>0): ?>
    <div id="results">
    <ul>
       <?php foreach ($this->paginator as $key => $val): ?>
        <li class="file_excerpt">
            <h3><a href="<?=$val['rlink'] ?>"><?=$val['filename'] ?></a><span class="debuginfo">id: <?=$key ?> w:<?=$val['weight'] ?> fw:<?=$val['fileweight'] ?> fnc:<?=$val['attrs']['fncount'] ?> s:<?=$val['isources'] ?></span></h3>
            <span><?=$val['info']?></span>
            <?php if ($val["sources"]): ?><span><?=$this->translate('Sources');?>:
                <?php foreach ($val["sources"] as $k => $v): ?>
                    <?= "$k($v) " ?>
                <?php endforeach; ?></span>
            <?php endif; ?>
            <cite><?=$val['link']?></cite>
            <? if ($val['size']) echo " - ".$val["size"]?> - <a href="/page/complaint"><?=$this->translate('Report');?></a>
        </li>
        <?php endforeach; ?>
    </ul>
    </div>

    <?=$this->paginationControl($this->paginator,'Sliding','paginator_search.phtml'); ?>
    
<?php else: ?>
    <h2><?=$this->translate('No results.');?></h2>
<?php endif;?>

</div><!-- end of container_search --->
